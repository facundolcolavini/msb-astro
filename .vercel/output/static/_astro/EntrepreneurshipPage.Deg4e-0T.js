import{f as A,u as $,e as P,b as T,s as b,r as z,d as k,c as O}from"./filter-default.Dtj7yB-H.js";import{h as f}from"./he.BU-6BCAe.js";import"./WhatsAppIcon.DLSVrplH.js";import{A as x}from"./ArrowSortIcon.CJb_LIpN.js";import{C as F}from"./CardResultSkeleton.DEuv3ZsG.js";import{B as d}from"./Button.BgCxL-le.js";import j from"./CardEntrepreneurship.B8h7C0Ic.js";import{S as s}from"./SelectField.xV1S0Zji.js";import{u as e}from"./jsxRuntime.module.CZQ5QUxB.js";import{p as v,_}from"./hooks.module.DQKj1niD.js";import{g as y}from"./preact.module.DPkTw89T.js";import"./bundle-mjs.CpAuaXBl.js";/* empty css                       */const Z=({selects:w,locations:C,session:D})=>{const l=P.get(),i=b.get(),c={ed_est:{value:window.location.search?.includes("Pozo")?"En Pozo":window.location.search?.includes("Construccion")?"En Construccion":window.location.search?.includes("Terminado")?"Terminado":l.ed_est?.value??"En Pozo",label:"Estado"},ed_tip:{value:"",label:"Tipo"},ed_loc:{value:"All",label:"Localidad"},ed_bar:{value:"All",label:"Barrio"},ed_cal:{value:"All",label:"Calle"},ed_cat:{value:"All",label:"Categoria"},valor_desde:{value:"All",label:"Desde"},valor_hasta:{value:"All",label:"Hasta"}},[a,m]=v(),[N,p]=v(!0),n=A({selects:w,locations:C,default:k},O,T),{handleSelect:o,resetSelect:S,handleCheckboxChange:q,filtersSelected:h}=$(n,{...c,...l,ed_est:{value:window.location.search?.includes("Pozo")?"En Pozo":window.location.search?.includes("Construccion")?"En Construccion":window.location.search?.includes("Terminado")?"Terminado":l.ed_est?.value??"En Pozo",label:"Estado"}});_(()=>{g()},[]),_(()=>{g();const r=`${window.location.pathname}${i.length>0?`?${i}`:""}`;window.history.pushState({},"",r)},[i]);const g=async()=>{try{p(!0);const t=await fetch(`/api/emprendimientos.json?${b.get()}`),r=await t.json();r?.hasOwnProperty("error")?(m(null),p(!1)):t.ok&&(p(!1),m(r.resultado))}catch(t){console.log(t)}},E=async t=>{t.preventDefault(),t.stopPropagation(),S(c),z(c),await g()},u=()=>{Array.isArray(a?.emprendimiento)&&(a?.emprendimiento.map(t=>{const r=t.valor_desde.replace(/[$.]/g,"");return{...t,precio:Number(r)}}).sort((t,r)=>t.precio-r.precio),m({...a,emprendimiento:a?.emprendimiento.reverse()}))};return e("div",{className:"container mx-auto",children:[e("div",{className:"grid  grid-cols-1 md:grid-cols-4 lg:grid-cols-12 gap-4 md:px-0 px-3 ",children:[e("div",{className:"md:col-start-1 md:col-end-3 lg:col-start-1 lg:col-end-3 flex gap-4",children:e(d,{variant:"outline",onClick:o,value:"En Pozo",addStyles:`text-base  w-full  h-[56px] ${f.decode(h?.ed_est?.value)==="En Pozo"&&"text-secondary-msb bg-bg-2-msb border-bg-2-msb border-none hover:border-none transition duration-500 ease-in-out h-[56px]"}`,id:"ed_est",children:"En Pozo"})}),e("div",{className:"md:col-start-3 md:col-end-6 lg:col-start-3 lg:col-end-5   flex gap-4",children:e(d,{variant:"outline",onClick:o,value:"En Construccion",addStyles:` text-base h-[56px] w-full ${h?.ed_est.value==="En Construccion"&&"text-secondary-msb bg-bg-2-msb border-bg-2-msb border-none hover:border-none transition duration-500 ease-in-out h-[56px]"}`,id:"ed_est",children:"En Construcción"})}),e("div",{className:"md:col-start-6 md:col-end-13 lg:col-start-5 lg:col-end-7 flex gap-4",children:e(d,{variant:"outline",onClick:o,value:"Terminado",addStyles:`text-base h-[56px] w-full  ${f.decode(h?.ed_est?.value)==="Terminado"&&"text-secondary-msb bg-bg-2-msb border-bg-2-msb border-none hover:border-none transition duration-500 ease-in-out h-[56px]"}`,id:"ed_est",children:"Terminado"})})]}),e("div",{className:"py-20",children:e("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-12 gap-4 md:px-0 px-3",children:[e("div",{class:"lg:col-start-4 lg:col-end-13 md:hidden hidden lg:flex items-end justify-between w-full",children:[e("p",{className:"font-bold text-primary-text-msb text-base",children:["Tenemos ",e("span",{className:"font-bold text-bg-2-msb text-sm md:text-md lg:text-lg",children:Array.isArray(a?.emprendimiento)?a?.emprendimiento.length:0})," resultados con tu búsqueda"]}),e(d,{onClick:u,addStyles:"bg-transparent hover:bg-transparent p-0 m-0",children:e("div",{className:"flex items-center text-primary-text-msb text-sm md:text-md lg:text-lg font-bold  gap-1",children:[" Ordenar ",e(x,{})]})})]}),e("aside",{className:"md:col-12 lg:col-start-1 lg:col-end-4",children:e("div",{className:"flex flex-col",children:[e("div",{className:"flex mb-4",children:e(s,{id:"ed_tip",onChange:o,defaultOption:l.ed_tip,opts:n.ed_tip})}),e("div",{className:"flex mb-4",children:e(s,{id:"ed_loc",onChange:o,defaultOption:l.ed_loc,opts:n.ed_loc})}),e("div",{className:"flex mb-4",children:e(s,{id:"ed_bar",onChange:o,defaultOption:l.ed_bar,opts:n.ed_bar})}),e("div",{className:"flex mb-4",children:e(s,{id:"ed_cal",onChange:o,defaultOption:l.ed_cal,opts:n.ed_cal})}),e("div",{className:"flex mb-4",children:e(s,{id:"ed_cat",onChange:o,defaultOption:l.ed_cat,opts:n.ed_cat})}),e("div",{className:"mt-4",children:e(d,{type:"button",variant:"primary",onClick:E,addStyles:"w-full h-[56px] text-md border-2 border-gray-300 rounded-md flex justify-center items-center",children:"Limpiar búsqueda"})}),e("div",{class:"lg:col-start-4 lg:col-end-13 lg:hidden flex items-end justify-between w-full mt-4",children:[e("p",{className:"font-bold text-primary-text-msb text-base",children:["Tenemos ",e("span",{className:"font-bold text-bg-2-msb text-sm md:text-md lg:text-lg",children:Array.isArray(a?.emprendimiento)?a?.emprendimiento.length:0})," resultados con tu búsqueda"]}),e(d,{onClick:u,addStyles:"bg-transparent hover:bg-transparent p-0 m-0",children:e("div",{className:"flex items-center text-primary-text-msb text-sm md:text-md lg:text-lg font-bold  gap-1",children:[" Ordenar ",e(x,{})]})})]})]})}),e("div",{className:"lg:col-start-4 lg:col-end-13",children:e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 z-1 gap-4 animate-fade",children:N?e(y,{children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(t=>e("div",{className:"animate-ease-linear animate-pulse",children:e(F,{})}))}):e(y,{children:a?.emprendimiento?.map(t=>e(j,{cardData:{ed_nom:t.ed_nom,img_princ:t.img_princ,ed_est:t.ed_est,ed_pos:t.ed_pos},href:`emprendimientos/${t.ed_est}/${t.ed_loc}/${t.ed_bar}/${t.codsuc}-${t.ed_idl}`},`${t.codemp}${t.codsuc}-${t.ed_nro}-${t.ed_dir}`))})})})]})})]})};export{Z as default};
