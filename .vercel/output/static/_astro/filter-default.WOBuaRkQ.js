import{p as v,_}from"./hooks.module.DQKj1niD.js";import{m as L,a as D}from"./index.D69GKgpb.js";import{f as b}from"./formats.hIVXQWTe.js";const d=L(),p=D(""),f=t=>{d.set({...d.get(),...t});const n=new URLSearchParams(p.get());Object.entries(t).forEach(([l,e])=>{e&&e.value!==null&&e.value!==void 0&&e.value!==""?n.set(l,e.value):n.delete(l)}),p.set(n.toString().replace(/&?[^=&]+=All/g,""))},S=async t=>{d.set(t);const n=new URLSearchParams;Object.keys(t).forEach(l=>{const e=t[l];e&&e.value!==null&&e.value!==void 0&&e.value!==""&&n.set(l,e.value)}),await p.set(n.toString().replace(/&?[^=&]+=All/g,""))},U=(t,n)=>{const[l,e]=v(n),[s,m]=v(""),h=i=>{const a=new URLSearchParams;Object.keys(i).forEach(c=>{const o=i[c];typeof o=="object"&&o!==null?a.set(c,o.value):a.delete(c)}),m(a.toString().replace(/&?[^=&]+=All/g,""))};return _(()=>{h(l)},[l]),_(()=>{f(n)},[]),{filtersSelected:l,searchParams:s,handleSelect:i=>{const{id:a,value:c}=i.target;if(a==="in_tpr"){const o={...l};if(l.in_tpr&&l.in_tpr.value==="COUNTRY")delete o.in_tpr;else{const r=t[a].find(u=>u.value==="COUNTRY");r&&(o[a]=r)}e(o),f({[a]:o[a]})}else{const o={...l},r=t[a].find(u=>u.value===c);r?o[a]=r:delete o[a],e(o),f({[a]:o[a]})}},handleSubmit:i=>{const a=new URL(window.location.href),c=new URLSearchParams(a.search),o={...l};Object.keys(o).forEach(r=>{const u=o[r];typeof u=="string"&&u!==""?c.set(r,u):c.delete(r)})},handleOnChange:i=>{if(i.target instanceof HTMLInputElement){const{id:a,value:c}=i.target;e(o=>({...o,[a]:{value:c,label:a}})),f({[a]:{value:c,label:a}})}},fParams:h,resetSelect:i=>{S(i),e(i)},handleCheckboxChange:(i,a)=>{e(c=>({...c,[i]:{value:a,label:i}})),f({[i]:{value:a,label:i}})}}},x=(t,n,l)=>{let e={};return n?.map(s=>{let m=l[s?.label]||s.label;s.isLocation?e[m]=b(t.locations.ubicaciones):s.isDefault?e[s.label]=t.default[s.label]:s.label==="valor"?l.valor_minimo&&l.valor_maximo?(e[l.valor_minimo]=b(t.selects[s.label]?.desde),e[l.valor_maximo]=b(t.selects[s.label]?.hasta)):(e.valor_minimo=b(t.selects[s.label]?.desde),e.valor_maximo=b(t.selects[s.label]?.hasta)):e[m]=b(t.selects[s.label])}),n.some(s=>s.label==="in_iub")&&e.hasOwnProperty("ubicaciones")?(e.in_iub=e.ubicaciones,delete e.ubicaciones):n.some(s=>s.label==="ed_iub")&&e.hasOwnProperty("ubicaciones")&&(e.ed_iub=e.ubicaciones,delete e.ubicaciones),e},y={in_tpr:[{value:"COUNTRY",label:"Barrios Cerrados y Countries"}],ed_est:[{label:"En Construccion",value:"En Construccion"},{label:"Terminado",value:"Terminado"},{label:"En Pozo",value:"En Pozo"},{label:"A Estrenar",value:"A Estrenar"}],moneda:[{value:"P",label:"Pesos"},{value:"D",label:"U$D"}],ordenar:[{value:"preciomenor",label:"Menor precio"},{value:"preciomayor",label:"Mayor precio"}],rppagina:[{value:"15",label:"15"}]},A=[{label:"barrio",isLocation:!1,isDefault:!1},{label:"operacion",isLocation:!1,isDefault:!1},{label:"tipo",isLocation:!1,isDefault:!1},{label:"ambientes",isLocation:!1,isDefault:!1},{label:"calles",isLocation:!1,isDefault:!1},{label:"localidades",isLocation:!1,isDefault:!1},{label:"ubicaciones",isLocation:!0,isDefault:!1},{label:"in_iub",isLocation:!0,isDefault:!1},{label:"in_tpr",isLocation:!1,isDefault:!0},{label:"valor",isLocation:!1,isDefault:!1},{label:"moneda",isLocation:!1,isDefault:!0},{label:"rppagina",isLocation:!1,isDefault:!0},{label:"ordenar",isLocation:!1,isDefault:!0}],T={ambientes:"Ambientes",localidades:"sellocalidades",barrio:"barrios1",operacion:"tipo_operacion",tipo:"tipo_inmueble",ubicaciones:"ubicaciones"},j=[{label:"ed_est",isLocation:!1,isDefault:!0},{label:"tipo",isLocation:!1,isDefault:!1},{label:"localidad",isLocation:!1,isDefault:!1},{label:"barrio",isLocation:!1,isDefault:!1},{label:"calles",isLocation:!1,isDefault:!1},{label:"categoria",isLocation:!1,isDefault:!1},{label:"valor",isLocation:!1,isDefault:!1}],N={tipo:"ed_tip",localidad:"ed_loc",barrio:"ed_bar",calles:"ed_cal",categoria:"ed_cat",operacion:"tipo_operacion",valor_maximo:"valor_hasta",valor_minimo:"valor_desde"};export{A as a,N as b,j as c,y as d,d as e,x as f,f as g,T as l,S as r,p as s,U as u};
